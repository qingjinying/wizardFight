{
  "code": "import GameConfig from \"./GameConfig\";\r\nimport { WarMap } from \"./view/WarMap\";\r\nclass Main {\r\n    constructor() {\r\n        this.mLastMouseX = 0;\r\n        this.mLastMouseY = 0;\r\n        this.mX = 0;\r\n        this.mY = 0;\r\n        if (window[\"Laya3D\"])\r\n            Laya3D.init(GameConfig.width, GameConfig.height);\r\n        else\r\n            Laya.init(GameConfig.width, GameConfig.height, Laya[\"WebGL\"]);\r\n        Laya[\"Physics\"] && Laya[\"Physics\"].enable();\r\n        Laya[\"DebugPanel\"] && Laya[\"DebugPanel\"].enable();\r\n        Laya.stage.scaleMode = GameConfig.scaleMode;\r\n        Laya.stage.screenMode = GameConfig.screenMode;\r\n        Laya.stage.alignV = GameConfig.alignV;\r\n        Laya.stage.alignH = GameConfig.alignH;\r\n        Laya.URL.exportSceneToJson = GameConfig.exportSceneToJson;\r\n        if (GameConfig.debug || Laya.Utils.getQueryString(\"debug\") == \"true\")\r\n            Laya.enableDebugPanel();\r\n        if (GameConfig.physicsDebug && Laya[\"PhysicsDebugDraw\"])\r\n            Laya[\"PhysicsDebugDraw\"].enable();\r\n        if (GameConfig.stat)\r\n            Laya.Stat.show();\r\n        Laya.alertGlobalError(true);\r\n        Laya.ResourceVersion.enable(\"version.json\", Laya.Handler.create(this, this.onVersionLoaded), Laya.ResourceVersion.FILENAME_VERSION);\r\n    }\r\n    onVersionLoaded() {\r\n        Laya.AtlasInfoManager.enable(\"fileconfig.json\", Laya.Handler.create(this, this.onConfigLoaded));\r\n    }\r\n    onConfigLoaded() {\r\n        this.warMap = new WarMap();\r\n        this.warMap.open();\r\n        Laya.stage.on(Laya.Event.MOUSE_DOWN, this, this.mouseDown);\r\n        Laya.stage.on(Laya.Event.MOUSE_UP, this, this.mouseUp);\r\n    }\r\n    mouseDown() {\r\n        this.mLastMouseX = Laya.stage.mouseX;\r\n        this.mLastMouseY = Laya.stage.mouseY;\r\n        Laya.stage.on(Laya.Event.MOUSE_MOVE, this, this.mouseMove);\r\n    }\r\n    mouseMove() {\r\n        console.log(Laya.stage.mouseX, this.mLastMouseX);\r\n        let moveX = this.mX + (Laya.stage.mouseX - this.mLastMouseX);\r\n        let moveY = this.mY + (Laya.stage.mouseY - this.mLastMouseY);\r\n        console.log(moveX, moveY);\r\n        this.warMap.x = moveX;\r\n        this.warMap.y = moveY;\r\n    }\r\n    mouseUp() {\r\n        this.mX = this.warMap.x;\r\n        this.mY = this.warMap.y;\r\n        Laya.stage.off(Laya.Event.MOUSE_MOVE, this, this.mouseMove);\r\n    }\r\n}\r\nnew Main();\r\n",
  "references": [
    "C:/game/demo1/myLaya/src/GameConfig.ts",
    "C:/game/demo1/myLaya/src/ui/layaMaxUI.ts",
    "C:/game/demo1/myLaya/src/view/WarMap.ts"
  ]
}
