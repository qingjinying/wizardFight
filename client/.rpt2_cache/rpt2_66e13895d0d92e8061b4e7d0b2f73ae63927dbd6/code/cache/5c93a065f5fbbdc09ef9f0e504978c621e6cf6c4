{
  "code": "import GameConfig from \"./GameConfig\";\r\nimport { GameCtrl } from \"./init/GameCtrl\";\r\nimport { E, EventName } from \"./manager/E\";\r\nimport { ResM } from \"./manager/RES\";\r\nimport { WxShare } from \"./sdk/wxShare\";\r\nimport { TerritoryTbl } from \"./Tbl/TerritoryTbl\";\r\nclass Main {\r\n    constructor() {\r\n        if (window[\"Laya3D\"])\r\n            Laya3D.init(GameConfig.width, GameConfig.height);\r\n        else\r\n            Laya.init(500, GameConfig.height, Laya[\"WebGL\"]);\r\n        Laya[\"Physics\"] && Laya[\"Physics\"].enable();\r\n        Laya[\"DebugPanel\"] && Laya[\"DebugPanel\"].enable();\r\n        Laya.stage.scaleMode = GameConfig.scaleMode;\r\n        Laya.stage.screenMode = GameConfig.screenMode;\r\n        Laya.stage.alignV = GameConfig.alignV;\r\n        Laya.stage.alignH = GameConfig.alignH;\r\n        Laya.URL.exportSceneToJson = GameConfig.exportSceneToJson;\r\n        if (GameConfig.debug || Laya.Utils.getQueryString(\"debug\") == \"true\")\r\n            Laya.enableDebugPanel();\r\n        if (GameConfig.physicsDebug && Laya[\"PhysicsDebugDraw\"])\r\n            Laya[\"PhysicsDebugDraw\"].enable();\r\n        if (GameConfig.stat)\r\n            Laya.Stat.show();\r\n        Laya.alertGlobalError(true);\r\n        Laya.ResourceVersion.enable(\"version.json\", Laya.Handler.create(this, this.onVersionLoaded), Laya.ResourceVersion.FILENAME_VERSION);\r\n    }\r\n    onVersionLoaded() {\r\n        Laya.AtlasInfoManager.enable(\"fileconfig.json\", Laya.Handler.create(this, this.onConfigLoaded));\r\n    }\r\n    onConfigLoaded() {\r\n        Laya.loader.load(ResM.perLoadArr(), Laya.Handler.create(this, this.gameResComplete));\r\n        Laya.stage.on(Laya.Event.RESIZE, this, this.resize);\r\n    }\r\n    resize() {\r\n        let w = GameConfig.width;\r\n        let h = GameConfig.height;\r\n        if (GameConfig.scaleMode == \"fixedwidth\") {\r\n            let screen_wh_scale = Laya.Browser.width / Laya.Browser.height;\r\n            h = GameConfig.width / screen_wh_scale;\r\n        }\r\n        Laya.Scene.unDestroyedScenes.forEach(element => {\r\n            let s = element;\r\n            s.width = w;\r\n            s.height = h;\r\n        });\r\n    }\r\n    gameResComplete() {\r\n        WxShare.getIns();\r\n        TerritoryTbl.getIns().loadTbl();\r\n        new GameCtrl();\r\n        E.ins.event(EventName.openHome);\r\n    }\r\n}\r\nnew Main();\r\n",
  "references": [
    "C:/game/demo1/myLaya/src/GameConfig.ts",
    "C:/game/demo1/myLaya/src/init/GameCtrl.ts",
    "C:/game/demo1/myLaya/src/manager/E.ts",
    "C:/game/demo1/myLaya/src/manager/RES.ts",
    "C:/game/demo1/myLaya/src/sdk/wxShare.ts",
    "C:/game/demo1/myLaya/src/Tbl/TerritoryTbl.ts"
  ]
}
